<html>
<head>
  <script type="text/javascript" src="../src/JspScript.js"></script>
  <script type="text/javascript" src="../src/Generator.js"></script>

  <script type="text/javascript">
    var env = new JspScript.Env();

    env.registerTaglib('/WEB-INF/tags/x', {
      test: env.createTemplateFromUrl('WEB-INF/tags/x/test.tag', env)
    });

    var pageTemplate = env.createTemplateFromUrl('WEB-INF/jsp/page.jsp', env);

    var result = pageTemplate.render({value: 'works'});
  </script>
</head>
<body>
<script type="text/javascript">
  for (var i = 0; i < result.length; i++) {
    document.body.appendChild(result[i]);
  }
</script>
</body>
</html>
